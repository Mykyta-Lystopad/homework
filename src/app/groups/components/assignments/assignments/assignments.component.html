
<div class="container">
   
<div *ngIf="currentUser.role == 'teacher' && !student_id; else studentNameBlock"  class="card">
  <button type="button" class="btn btn-primary" *ngIf="!createAssignFlag" (click)="showNewAssignBlock()">
    Create new assignment
  </button>
</div>
<ng-template #studentNameBlock>
  {{studentName}}
</ng-template>


<!-------------------------------- Create assignment modal ---------------------------------------->
<div *ngIf="createAssignFlag">
  <app-assignment 
    [assignId] = 'this.group_id' 
    [assignCreationMode] = true 
    (emitHideCreateAssign) = 'hideCreateAssign($event)'
    ></app-assignment>
</div>
<!-- --------------------------------------Assignments ------------------------------------------------>
  <div *ngFor="let assign of assignments; let i = index">
    <!-- <div class="card"[routerLink]="['assignments', assign.id]" routerLinkActive="router-link-active"> -->
      <div *ngIf="!assignments[i].show; else showAssignmentComponent" (click)="showAssignDetail(i)">
        <div class="card-body" >
          <h4 class="card-title">{{ assign.title }}</h4>
            <div>
              <div *ngIf="assign.description" class="col-12"> Note: {{ assign.description }}</div>          
            </div>  
            <ul class="d-flex flex-row">
              <li *ngFor="let prob of assign.problems"> {{prob.title}}; </li>
            </ul>     
        </div>
        <div class="d-flex flex-wrap align-content-end">
          <div >{{ assign.due_date }}</div>  
        </div>
      </div>  
      <ng-template #showAssignmentComponent>
        
          <app-assignment [assignId] = 'assignments[i].id' ></app-assignment>  
      
        
      </ng-template>
      
    <!-- </div> -->
  </div>
<!--
  <p *ngIf="((assignments.problems | async)?.length === 0)">List is empty</p>
-->
</div>




